/**
 * This header is generated by class-dump-z 0.2-0.
 * class-dump-z is Copyright (C) 2009 by KennyTM~, licensed under GPLv3.
 *
 * Source: (null)
 */

#import "CSSearchableIndexDelegate.h"
#import </libobjc.A.h>
#import "WhatsApp-Structs.h"

@class WATask, NSLock, WAContactSpotlightIndexer, NSString, UILocalizedIndexedCollation, NSIndexSet, NSCharacterSet, NSMutableSet, NSMutableDictionary, NSArray, NSManagedObjectModel, NSPersistentStoreCoordinator, NSManagedObjectContext;
@protocol WAContactsStorageDelegate, OS_dispatch_queue;

__attribute__((visibility("hidden")))
@interface WAContactsStorage : NSObject <CSSearchableIndexDelegate> {
	NSString* _eTag;
	WATask* _indexContactsByCoreSpotlightTask;
	BOOL _needsRefreshContacts;
	BOOL _needsRefreshStatus;
	BOOL _contactsAvailable;
	BOOL _emailsLoading;
	BOOL _reverseNameSearch;
	NSArray* _contactEmails;
	NSMutableDictionary* _existResults;
	NSMutableSet* _deletedWhatsAppIDs;
	NSMutableSet* _existingWhatsAppIDs;
	NSManagedObjectContext* _syncResponseMOC;
	NSManagedObjectContext* _managedObjectContext;
	NSPersistentStoreCoordinator* _persistentStoreCoordinator;
	NSLock* _pscLock;
	WAContactSpotlightIndexer* _contactSpotlightIndexer;
	NSManagedObjectModel* _managedObjectModel;
	UILocalizedIndexedCollation* _collation;
	NSArray* _sectionTitles;
	NSArray* _sectionIndexTitles;
	NSIndexSet* _ignoredIndexTitles;
	NSRange _oldLatinIndexRange;
	NSRange _newLatinIndexRange;
	NSRange _oldLatinSectionRange;
	NSRange _newLatinSectionRange;
	NSCharacterSet* _nonAlphanumericCharacterSet;
	NSObject<OS_dispatch_queue>* _contactsSerialQueue;
	id<WAContactsStorageDelegate> _delegate;
	NSLock* _addressBookMutationLock;
	int _approxCountOfContactsBeingUpdated;
}
@property(readonly, assign, nonatomic) WAContactSpotlightIndexer* contactSpotlightIndexer;
@property(readonly, assign, nonatomic) NSArray* sectionIndexTitles;
@property(readonly, assign, nonatomic) NSArray* sectionTitles;
@property(readonly, assign, nonatomic) UILocalizedIndexedCollation* collation;
@property(readonly, assign, nonatomic) BOOL reverseNameSearch;
@property(assign) int approxCountOfContactsBeingUpdated;
@property(readonly, assign, nonatomic) NSLock* addressBookMutationLock;
@property(readonly, copy, nonatomic) NSString* persistentStorePath;
@property(readonly, assign, nonatomic) NSPersistentStoreCoordinator* persistentStoreCoordinator;
@property(readonly, assign, nonatomic) NSManagedObjectContext* managedObjectContext;
@property(readonly, assign, nonatomic) NSCharacterSet* nonAlphanumericCharacterSet;
@property(readonly, assign, nonatomic) BOOL contactsAvailable;
@property(assign, nonatomic) __weak id<WAContactsStorageDelegate> delegate;
@property(readonly, copy, nonatomic) NSString* eTag;
@property(readonly, copy) NSString* debugDescription;
@property(readonly, copy) NSString* description;
@property(readonly, assign) Class superclass;
@property(readonly, assign) unsigned hash;
+(BOOL)isAddressBookAuthStatusKnown;
+(BOOL)isAddressBookAllowed;
-(void).cxx_destruct;
-(id)statusForWhatsAppID:(id)whatsAppID;
-(id)statusForWhatsAppID:(id)whatsAppID inContext:(id)context;
-(id)phoneWithObjectID:(id)objectID inContext:(id)context;
-(id)phoneWithObjectID:(id)objectID;
-(id)phonesWithStatus:(BOOL)status;
-(id)findContactWithABID:(int)abid registeredInContext:(id)context;
-(id)contactWithABID:(int)abid inContext:(id)context parentOnly:(BOOL)only;
-(id)parentContactWithABID:(int)abid inContext:(id)context;
-(id)parentContactWithABID:(int)abid;
-(id)addressBookContainsJID:(id)jid;
-(int)sectionForSectionIndexTitle:(id)sectionIndexTitle atIndex:(int)index;
-(unsigned)sectionForObjectName:(id)objectName;
-(void)prepareSectionData;
-(void)performSeriallyOnQueue:(id)queue block:(id)block;
-(void)setMetadata:(id)metadata forKey:(id)key;
-(id)metadataForKey:(id)key;
-(id)newManagedObjectContext;
-(id)persistentStoreURL;
-(void)dealloc;
-(id)init;
-(void)searchableIndex:(id)index reindexSearchableItemsWithIdentifiers:(id)identifiers acknowledgementHandler:(id)handler;
-(void)searchableIndex:(id)index reindexAllSearchableItemsWithAcknowledgementHandler:(id)acknowledgementHandler;
-(void)resetContactsCoreSpotlightIndex;
-(void)resetContactsCoreSpotlightIndexStatusWithCompletion:(id)completion;
-(void)setUpSpotlightIndexer;
-(void)refreshETag;
-(void)applicationWillEnterForeground:(id)application;
-(void)setExistStatus:(id)status forJID:(id)jid;
-(id)existStatusForJID:(id)jid;
-(void)refreshExistStatusForJID:(id)jid;
-(void)statusFetchFailerWithError:(id)error;
-(void)statusFetchFinishedWithResults:(id)results;
-(void)requestStatusMessagesForJIDs:(id)jids;
-(void)requestStatusMessagesForAllContactsIfNeeded;
-(void)deleteStatusForJID:(id)jid;
-(void)setStatusText:(id)text timestamp:(id)timestamp forJID:(id)jid;
-(void)loadContactEmails;
-(id)emailsForAllContacts;
-(id)contactEmails;
-(id)statusesForWhatsAppID:(id)whatsAppID inContext:(id)context;
-(id)statusMessagesForWhatsAppIDs:(id)whatsAppIDs inContext:(id)context;
-(id)statusWithObjectID:(id)objectID inContext:(id)context;
-(id)statusWithObjectID:(id)objectID;
-(id)phonesOfAllNonWhatsAppableContacts;
-(id)phonesOfAllWhatsAppableContacts;
-(id)phoneNumbers:(BOOL)numbers;
-(unsigned)numberOfPhones;
-(id)contactsInSectionWithID:(id)anId;
-(id)contactsIDsInSectionWithID:(id)anId;
-(id)sectionWithObjectID:(id)objectID;
-(id)sections;
-(id)allContactsForWhatsAppID:(id)whatsAppID inContext:(id)context;
-(id)bestContactForWhatsAppID:(id)whatsAppID inContext:(id)context;
-(id)bestContactForJID:(id)jid;
-(id)bestContactFromContacts:(id)contacts;
-(id)allContactsWithWhatsAppIDs:(id)whatsAppIDs inContext:(id)context;
-(id)contactsWithABIDs:(id)abids withPrefetchedRelationships:(id)prefetchedRelationships inContext:(id)context;
-(id)contactWithObjectID:(id)objectID;
-(unsigned)numberOfContacts;
-(void)receivedUpdatedContactCapabilities:(id)capabilities;
-(BOOL)updateContactCapabilities:(id)capabilities;
-(void)requestFeatureCapabilitiesForJIDs:(id)jids;
-(id)capabilitiesForJIDs:(id)jids;
-(id)capabilitiesForJid:(id)jid;
-(id)capabilitiesForJid:(id)jid inContext:(id)context;
-(int)capabilityStatusFromFeatureCapability:(int)featureCapability;
-(void)processSyncError:(id)error;
-(void)processSyncResults:(id)results syncMode:(unsigned)mode syncContext:(unsigned)context;
-(void)syncResponseMOCDidSave:(id)syncResponseMOC;
-(id)allPhonesMatchingNumbers:(id)numbers inContext:(id)context;
-(BOOL)phoneNumber:(id)number isFavoriteForContactABID:(int)contactABID;
-(void)addPhoneToFavorites:(id)favorites;
-(void)deleteFavorites:(id)favorites;
-(id)addContactFromABRecord:(void*)abrecord addressBook:(void*)book whatsAppID:(id)anId;
-(id)reloadDataFromABRecord:(void*)abrecord whatsAppID:(id)anId;
-(void)addressBookReloadMOCDidSave:(id)addressBookReloadMOC;
-(id)mergeContacts:(id)contacts;
-(void)establishParentChildRelationshipsWithContacts:(id)contacts;
-(void)updateSpotlightIndexWithDeletedWhatsAppIDs:(id)deletedWhatsAppIDs;
-(void)reloadContactsFromAddressBook;
-(id)jidsDeletedDuringABReload;
-(void)updateContact:(id)contact withRecord:(void*)record;
-(void)reloadPhonesForContact:(id)contact fromABRecord:(void*)abrecord;
-(void)deletePhone:(id)phone;
-(id)addPhone:(id)phone label:(id)label toContact:(id)contact;
-(id)addStatus:(id)status toPhone:(id)phone whatsAppID:(id)anId statusDate:(id)date;
-(id)sectionWithTitle:(id)title inContext:(id)context;
-(id)addSectionWithTitle:(id)title inContext:(id)context;
-(void)deleteDatabase;
-(void)reset;
-(void)notifyUpdatedStatusIfNecessary;
-(void)notifyUpdatedContactsIfNecessary;
-(void)unregisterFromManagedObjectContextDidSaveNotification:(id)unregisterFromManagedObjectContext;
-(void)workerMOCDidSave:(id)workerMOC;
-(BOOL)saveManagedObjectContextAndMergeChanges:(id)changes;
-(void)setUpRecurringTasksIfNeeded;
-(void)performAfterMOCCreated;
-(BOOL)contextContainsSpotlightUnindexedPhones:(id)phones;
-(void)saveContext:(id)context;
-(void)performAfterInit;
@end

